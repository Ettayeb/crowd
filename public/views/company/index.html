<div class="">

	<!-- PAGE -->
	<div id="page">
	
		<!-- HEADER -->
<header ng-include="'views/partials/header.html'"></header>
<!-- sections -->
<section class="one-section" ng-controller="CindController as vm">
<div class="container">
	        <a class="btn submit-simple pull-right" href="/company/offer/add">Add New Offer</a>
	        <a class="btn submit-simple pull-right" href="/company/servey/add">Add New Servey</a>

    <div class="control-group col-xs-6 col-xs-offset-3 text-danger" >
        <span class="help-inline" ng-bind="vm.error"></span>
    </div>
<div class="tabs-marge">
<div uib-alert ng-repeat="alert in vm.alerts" ng-class="'alert-' + (alert.type || 'warning')" close="vm.closeAlert($index)">{{alert.msg}}</div>
<uib-tabset active="activeForm" justified="true">
<uib-tab index="0" heading="Offers List" class="spacing" >
<table class="table" ng-show="vm.offers">
  <thead>
    <tr>
      <th>N°</th>
      <th>Title</th>
      <th>Type</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>File</th>
	  <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="offer in vm.offers | start: (vm.currentPage - 1) * vm.pageSize | limitTo: vm.pageSize">
      <th scope="row">{{$index}}</th>
      <td><a ng-href="/company/offer/{{offer._id}}">{{offer.title}}</a></td>
      <td>{{offer.type}}</td>
      <td>{{offer.created_at | date:'medium'}}</td>
      <td>{{offer.ended_at | date:'medium'}}</td>
	  <td><a ng-href="/uploads/{{offer.file}}" target="_blank">File</a></td>
	  <td><a class="btn btn-primary" href="/company/offer/{{offer._id}}"><i class="fa fa-pencil"></i></a>
		  <a class="btn btn-danger" ng-click="vm.remove(offer._id)"><i class="fa fa-trash-o fa-fw"></i></a>
	  </td>
    </tr>
  </tbody>
</table>
<pagination uib-pagination total-items="vm.offers.length" items-per-page="vm.pageSize" ng-model="vm.currentPage" max-size="10" 
                        class="pagination-sm"></pagination>
<div class="row text-center" ng-hide="vm.offers">
    <div class="col-12">
<h3 class="text-center">You dont have any offer !</h3>
    
    </div>
</div>
</uib-tab>
<uib-tab index="1" heading="Serveys List" class="spacing" >
	<table class="table" ng-show="vm.serveys">
  <thead>
    <tr>
      <th>N°</th>
      <th>Title</th>
      <th>Choices/Votes</th>
      <th>Start Date</th>
      <th>End Date</th>
      <th>Image</th>
      <th>Actions</th>

    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="servey in vm.serveys | start: (vm.currentPageS - 1) * vm.pageSizeS | limitTo: vm.pageSizeS">
      <th scope="row">{{$index}}</th>
      <td><a ng-href="/company/offer/{{servey._id}}">{{servey.title}}</a></td>
      <td>
		<span ng-repeat="s in servey.nested">
			{{s.name}} : {{s.votes}}
		</span>
	  
	  
	  </td>
      <td>{{servey.created_at | date:'medium'}}</td>
      <td>{{servey.ended_at | date:'medium'}}</td>
	  <td><a ng-href="/uploads/{{servey.file}}" target="_blank">Image</a></td>
	  <td><a class="btn btn-primary" href="/company/servey/{{servey._id}}"><i class="fa fa-pencil"></i></a>
		<a class="btn btn-danger" ng-click="vm.remove(servey._id)"><i class="fa fa-trash-o fa-fw"></i></a>
	  </td>
    </tr>
  </tbody>
</table>
<pagination uib-pagination total-items="vm.serveys.length" items-per-page="vm.pageSizeS" ng-model="vm.currentPageS" max-size="10" 
                        class="pagination-sm"></pagination>
<div class="row text-center" ng-hide="vm.serveys">
    <div class="col-12">
<h3 class="text-center">You dont have any servey !</h3>
    
    </div>
</div>
	
</uib-tab>
</uib-tabset>
</div>
</div> 
    
</section>



<!-- end sections -->
    </div>

<footer ng-include="'views/partials/footer.html'"></footer>

</div>